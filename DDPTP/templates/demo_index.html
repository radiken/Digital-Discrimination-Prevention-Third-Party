{% extends 'base.html' %}
{% load static %}
{% block content %}
<link rel="stylesheet" href="{% static '/css/demo_index.css' %}">

<div class="container">
    <div class="title">
        <h1> Demo </h1>
    </div>
    <h2 style="margin-bottom: 30px;">The DDP App Demo Pages</h2>
    <div class="row text-center">
        <div class="col-4">
            <div class="card">
                <div class="card-body" style="margin:10px;">
                    <a href="contract" class="card-link"><h5 class="card-title">Create forms</h5></a>
                    <h6 class="card-subtitle mb-2 text-muted">For organizations</h6>
                    <p class="card-text">Organizations create their forms here for individuals to fill in. Organizations should specify every details of each attributes in the form.</p>
                </div>
            </div>
        </div>
        <div class="col-4">
            <div class="card">
                <div class="card-body" style="margin:10px;">
                    <a href="submission" class="card-link"><h5 class="card-title">Submit data</h5></a>
                    <h6 class="card-subtitle mb-2 text-muted">For individuals</h6>
                    <p class="card-text">Individuals submit their information here. This demo page uses the form for the Statlog (German Credit Data) Data Set.</p>
                    
                </div>
            </div>
        </div>
        <div class="col-4">
            <div class="card">
                <div class="card-body" style="margin:10px;">
                        <a href="api" class="card-link"><h5 class="card-title">make queries</h5></a>
                    <h6 class="card-subtitle mb-2 text-muted">For organizations</h6>
                    <p class="card-text">Once more than 10 people submitted their data, organizations can make queries on the data set through this API, This demo page use the Statlog (German Credit Data) Data Set as the example.</p>
                </div>
            </div>
        </div>
    </div>

    <h2>Process demonstration</h2>
    <div class="row">
        <div class="col-md-4">
            <h3 class="text-center">Individual</h3>
            <div class="text-center">
                <h4>1. submission</h4>
                <a href="/demo/submission">submit a data here</a>
            </div>
        </div>
        <div class="col-md-4">
            <h3 class="text-center">The DDP App</h3>
            <div class="text-center">
                {% if submission_data != null %}
                    <h4>2. save and preserve sensitive data</h4>    
                    <p>marital status: {{ submission_data.personal_status_and_sex }}, age: {{ submission_data.age }}</p>
                    <p>non-sensitive data is sent to the organization automatically</p>
                {% endif %}
            </div>
            <br>
        </div>
        <div class="col-md-4">
            <h3 class="text-center">Organization</h3>
            <div class="text-center">
                {% if submission_data != null %} 
                    <h4>3. run algorithm</h4>    
                    <p>account status: {{submission_data.account_status}}, duration: {{submission_data.duration}}, credit history: {{submission_data.credit_history}}, 
                    purpose: {{submission_data.purpose}}, credit amount: {{submission_data.credit_amount}}, savings account: {{submission_data.savings_account}}, 
                    present employment since, {{submission_data.present_employment_since}}, installment rate in income: {{submission_data.installment_rate_in_income}}, 
                    guarantors: {{submission_data.guarantors}}, present residence since: {{submission_data.present_residence_since}}, property: {{submission_data.property}}, 
                    other installment plans: {{submission_data.other_installment_plans}}, housing: {{submission_data.housing}}, existing credits: {{submission_data.existing_credits}}, 
                    job: {{submission_data.job}}, maintenance provider number: {{submission_data.maintenance_provider_number}}, telephone: {{submission_data.telephone}}, 
                    foreign worker: {{submission_data.foreign_worker}} </p>
                    <input type="button" id="predict" value="run algorithm" name="predict"/>
                    <p id="result" style="display:none;"></p>
                {% endif %}
            </div>
        </div>
    </div>
</div>

<input type="hidden" id="csrf_token" value="{{ csrf_token }}">
{% if submission_data != null %}
    <input type="hidden" id="account_status" value={{submission_data.account_status}}>
    <input type="hidden" id="duration" value={{submission_data.duration}}>
    <input type="hidden" id="credit_history" value={{submission_data.credit_history}}>
    <input type="hidden" id="purpose" value={{submission_data.purpose}}>
    <input type="hidden" id="credit_amount" value= {{submission_data.credit_amount}}>
    <input type="hidden" id="savings_account" value={{submission_data.savings_account}}>
    <input type="hidden" id="present_employment_since" value={{submission_data.present_employment_since}}>
    <input type="hidden" id="installment_rate_in_income" value={{submission_data.installment_rate_in_income}}>
    <input type="hidden" id="guarantors" value={{submission_data.guarantors}}>
    <input type="hidden" id="present_residence_since" value={{submission_data.present_residence_since}}>
    <input type="hidden" id="other_installment_plans" value={{submission_data.other_installment_plans}}>
    <input type="hidden" id="housing" value={{submission_data.housing}}>
    <input type="hidden" id="existing_credits" value={{submission_data.existing_credits}}>
    <input type="hidden" id="job" value={{submission_data.job}}>
    <input type="hidden" id="maintenance_provider_number" value={{submission_data.maintenance_provider_number}}>
    <input type="hidden" id="telephone" value={{submission_data.telephone}}>
    <input type="hidden" id="foreign_worker" value={{submission_data.foreign_worker}}>
{% endif %}

<script type="text/javascript" src="{% static '/js/demo_index.js' %}"></script>
{% endblock %}